---
import Layout from '../../layouts/Layout.astro';
import Card from '../../components/Card.astro';

// Import all about markdown files
const aboutFiles = await Astro.glob('../../../docs/about/*.md');

// Sort by order if available
const sortedFiles = aboutFiles.sort((a, b) => {
  return (a.frontmatter.order || 999) - (b.frontmatter.order || 999);
});
---

<Layout title="About | Michael Borck">
  <div class="magazine-section">
    <h1 class="section-title">About Me</h1>
    
    <div class="about-content">
      {sortedFiles.map((file) => (
        <article class="about-article">
          <h2>{file.frontmatter.title}</h2>
          <p class="description">{file.frontmatter.description}</p>
          <div class="content">
            <file.Content />
          </div>
          {file.frontmatter.categories && (
            <div class="categories">
              {file.frontmatter.categories.map((category: string) => (
                <span class="category">{category}</span>
              ))}
            </div>
          )}
        </article>
      ))}
    </div>
  </div>
</Layout>

<style>
  .about-content {
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }
  
  .about-article {
    background-color: var(--background-light);
    border-radius: 8px;
    padding: 2rem;
    box-shadow: var(--card-shadow);
  }
  
  .about-article h2 {
    margin-bottom: 0.5rem;
    color: var(--accent-light);
  }
  
  .description {
    font-size: 1.2rem;
    margin-bottom: 1.5rem;
    font-style: italic;
    color: #666;
  }
  
  .content {
    margin-bottom: 1.5rem;
  }
  
  .categories {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }
  
  .category {
    font-size: 0.75rem;
    padding: 0.25rem 0.5rem;
    background-color: #eaedfc;
    color: var(--accent-dark);
    border-radius: 4px;
  }
</style>